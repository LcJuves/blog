Stun.utils=Stun.$u={debounce:function(e,n,o){var t;return function(){var i=this,a=arguments;if(t&&clearTimeout(t),o){var r=!t;t=setTimeout(function(){t=null},n),r&&e.apply(i,a)}else t=setTimeout(function(){e.apply(i,a)},n)}},throttle:function(e,n,o){var t,i,a,r=0;o||(o={});var c=function(){r=o.leading===!1?0:new Date().getTime(),t=null,e.apply(i,a),t||(i=a=null)},u=function(){var d=new Date().getTime();!r&&o.leading===!1&&(r=d);var l=n-(d-r);i=this,a=arguments,l<=0||l>n?(t&&(clearTimeout(t),t=null),r=d,e.apply(i,a),t||(i=a=null)):!t&&o.trailing!==!1&&(t=setTimeout(c,l))};return u},hasMobileUA:function(){var e=window.navigator,n=e.userAgent,o=/iPad|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian/g;return o.test(n)},isTablet:function(){return window.screen.width>767&&window.screen.width<992&&this.hasMobileUA()},isMobile:function(){return window.screen.width<767&&this.hasMobileUA()},isDesktop:function(){return!this.isTablet()&&!this.isMobile()},Cookies:function(){function e(){for(var o=0,t={};o<arguments.length;o++){var i=arguments[o];for(var a in i)t[a]=i[a]}return t}function n(o){function t(i,a,r){var c;if(!(typeof document>"u")){if(arguments.length>1){if(r=e({path:"/"},t.defaults,r),typeof r.expires=="number"){var u=new Date;u.setMilliseconds(u.getMilliseconds()+r.expires*864e5),r.expires=u}r.expires=r.expires?r.expires.toUTCString():"";try{c=JSON.stringify(a),/^[{[]/.test(c)&&(a=c)}catch{}o.write?a=o.write(a,i):a=encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),i=encodeURIComponent(String(i)),i=i.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),i=i.replace(/[()]/g,escape);var d="";for(var l in r)r[l]&&(d+="; "+l,r[l]!==!0&&(d+="="+r[l]));return document.cookie=i+"="+a+d}i||(c={});for(var v=document.cookie?document.cookie.split("; "):[],m=/(%[0-9A-Z]{2})+/g,p=0;p<v.length;p++){var g=v[p].split("="),s=g.slice(1).join("=");s.charAt(0)==='"'&&(s=s.slice(1,-1));try{var f=g[0].replace(m,decodeURIComponent);if(s=o.read?o.read(s,f):o(s,f)||s.replace(m,decodeURIComponent),this.json)try{s=JSON.parse(s)}catch{}if(i===f){c=s;break}i||(c[f]=s)}catch{}}return c}}return t.set=t,t.get=function(i){return t.call(t,i)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(i,a){t(i,"",e(a,{expires:-1}))},t.withConverter=n,t}return n(function(){})},showThemeInConsole:function(){var e=`

      ___          ___            ___            ___      
     /\\  \\        /\\  \\          /\\__\\          /\\__\\     
    /::\\  \\       \\:\\  \\        /:/  /         /::|  |    
   /:/\\ \\  \\       \\:\\  \\      /:/  /         /:|:|  |    
  _\\:\\ \\ \\  \\      /::\\  \\    /:/  /  ___    /:/|:|  |__  
 /\\ \\:\\ \\ \\__\\    /:/\\:\\__\\  /:/__/  /\\__\\  /:/ |:| /\\__\\ 
 \\:\\ \\:\\ \\/__/   /:/  \\/__/  \\:\\  \\ /:/  /  \\/__|:|/:/  / 
  \\:\\ \\:\\__\\    /:/  /        \\:\\  /:/  /       |:/:/  /  
   \\:\\/:/  /    \\/__/          \\:\\/:/  /        |::/  /   
    \\::/  /                     \\::/  /         /:/  /    
     \\/__/                       \\/__/          \\/__/     
                                                          
`,n="background-color: #eaf8ff;";console.log("%c%s",n,e)},codeToKeyCode:function(e){var n={ArrowLeft:37,ArrowRight:39,Escape:27,Enter:13};return n[e]},popAlert:function(e,n,o){$(".stun-message").length!==0&&$(".stun-message").remove();var t=$(`<div class="stun-message"><div class="stun-alert stun-alert-${e}"><i class="stun-alert-icon ${CONFIG.fontIcon.prompt[e]}"></i><span class="stun-alert-description">${n}</span></div></div>`);$("body").append(t),$(document).ready(function(){$(".stun-alert").velocity("stop").velocity("transition.slideDownBigIn",{duration:300}).velocity("reverse",{delay:o*1e3||5e3,duration:260,complete:function(){$(".stun-alert").css("display","none")}})})},copyText:function(e){try{var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o);var t=n.toString(),i=document.createElement("input");if(i.style.display="none",i.setAttribute("readonly","readonly"),i.setAttribute("value",t),document.body.appendChild(i),i.setSelectionRange(0,-1),document.execCommand("copy"))return document.execCommand("copy"),document.body.removeChild(i),!0;document.body.removeChild(i)}catch{return!1}},wrapImageWithFancyBox:function(){$(".content img").not(":hidden").each(function(){var e=$(this),n=e.attr("title")||e.attr("alt"),o=e.parent("a"),t=["data-src","data-original","src"],i="";if(!o[0]){for(var a=0;a<t.length;a++)if(e.attr(t[a])){i=e.attr(t[a]);break}o=e.wrap(`<a class="fancybox" href="${i}"></a>`).parent("a"),e.is(".gallery img")?o.attr("data-fancybox","gallery"):o.attr("data-fancybox","default")}n&&o.attr("title",n).attr("data-caption",n)}),$().fancybox({selector:"[data-fancybox]",loop:!0,transitionEffect:"slide",hash:!1,buttons:["share","slideShow","fullScreen","download","thumbs","close"]})},showImageToWaterfall:function(){var e=CONFIG.galleryWaterfall,n=parseInt(e.colWidth),o=parseInt(e.gapX),t=".gallery img";this.waitAllImageLoad(t,function(){$(".gallery").masonry({itemSelector:t,columnWidth:n,percentPosition:!0,gutter:o,transitionDuration:0})})},lazyLoadImage:function(){$("img.lazyload").lazyload()},addIconToExternalLink:function(e){if($(e)[0]){var n=$('<span class="exturl"></span>'),o=$(`<span class="exturl__icon"><i class="${CONFIG.externalLink.icon.name}"></i></span>`);$(e).find('a[target="_blank"]').addClass("exturl__link").wrap(n).parent(".exturl").append(o)}},registerSwitchPost:function(){var e=this.codeToKeyCode("ArrowLeft"),n=this.codeToKeyCode("ArrowRight");$(document).on("keydown",function(o){var t=o.keyCode===e,i=o.keyCode===n;if(o.ctrlKey){if(t){var a=$(".paginator-prev a")[0];a&&a.click()}else if(i){var r=$(".paginator-next a")[0];r&&r.click()}}})},registerShowReward:function(){$(".reward-button").on("click",function(){var e=$(".reward-qrcode");e.is(":visible")?e.css("display","none"):e.velocity("stop").velocity("transition.slideDownIn",{duration:300})})},registerZoomImage:function(){$("#content-wrap img").not(":hidden").each(function(){$(this).attr("data-zoom")!=="none"&&$(this).addClass("zoomimg")});var e=$('<div class="zoomimg-mask"></div>'),n=null,o=!1;$(window).on("scroll",t),$(document).on("click",t),$(".zoomimg").on("click",function(i){if(i.stopPropagation(),o){t();return}o=!0,n=$(this).clone().addClass("zoomimg-clone");var a=parseInt(CONFIG.zoomImage.gapAside||20),r=this.getBoundingClientRect(),c=$(this).outerWidth(),u=$(this).outerHeight(),d=$(this).width(),l=$(this).height(),v=$(this).offset().left+(c-d)/2,m=$(this).offset().top+(u-l)/2,p=$(window).width()-a*2,g=$(window).height()-a*2,s=p/d,f=g/l,h=(s<f?s:f)||1,y=p/2-(r.x+c/2)+a,_=g/2-(r.y+u/2)+a;$(this).addClass("zoomimg--hide"),$("body").append(e).append(n),e.velocity({opacity:1}),n.css({left:v,top:m,width:d,height:l}),n.velocity({translateX:y,translateY:_,scale:h},{duration:300})});function t(){o&&(o=!1,n.velocity("reverse"),e.velocity("reverse",{complete:function(){e.remove(),n.remove(),$(".zoomimg").removeClass("zoomimg--hide")}}))}},addCodeHeader:function(e){$("figure.highlight").each(function(){if(!$(this).find("figcaption")[0]){var n="";if(e)e==="carbon"&&(n+=`
            <div class="custom-carbon">
              <div class="custom-carbon-dot custom-carbon-dot--red"></div>
              <div class="custom-carbon-dot custom-carbon-dot--yellow"></div>
              <div class="custom-carbon-dot custom-carbon-dot--green"></div>
            </div>
          `);else{var o="highlight",t=$(this).attr("class").split(/\s/).filter(function(i){return i!==o});n+=`<div class="custom-lang">${t}</div>`}$(`<figcaption class="custom">${n}</figcaption>`).insertBefore($(this).children().first())}})},addCopyButton:function(e){var n=".post-copyright,",o=$(`<div class="copy-button" data-popover="${CONFIG.prompt.copyButton}" data-popover-pos="up"><i class="${CONFIG.fontIcon.copyBtn}"></i></div>`);e==="simple"||e==="carbon"?n+='.highlight figcaption:not(".custom")':n+=".highlight figcaption",$(n).append(o)},registerCopyEvent:function(){$(".copy-button").on("click",function(){var e=null,n=$(this).parents("figure.highlight").find("td.code")[0];n?e=n:e=$(this).parent()[0],Stun.utils.copyText(e)?Stun.utils.popAlert("success",CONFIG.prompt.copySuccess):Stun.utils.popAlert("error",CONFIG.prompt.copyError)})},waitAllImageLoad:function(e,n){var o=[];$(e).each(function(){var t=$.Deferred();$(this).bind("load",function(){t.resolve()}),this.complete&&setTimeout(function(){t.resolve()},500),o.push(t)}),$.when.apply(null,o).then(n)}};
