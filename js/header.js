$(document).ready(function(){var s=$(".header-nav-menubtn"),r=$(".header-nav-menu"),o=$(".header-nav-menu-item"),c=$(".header-nav-submenu"),t=s.is(":visible"),i=!1,n=!1;function h(){o.velocity({height:o.outerHeight()},{complete:function(){c.css({display:"none",opacity:0})}})}$(window).on("resize",Stun.utils.throttle(function(){t=s.is(":visible"),t?(c.removeClass("hide--force"),n&&(h(),n=!1)):c.css({display:"none",opacity:0})},200));var d=!0,a=$(".mode");$(document).on("click",function(){r.is(":visible")&&(t&&n&&(h(),n=!1),r.css({display:"none"}),i=!1),d&&(a.removeClass("mode--focus"),d=!1)}),Stun.utils.pjaxReloadHeader=function(){s=$(".header-nav-menubtn"),r=$(".header-nav-menu"),o=$(".header-nav-menu-item"),c=$(".header-nav-submenu"),t=s.is(":visible"),i=!1,n=!1;function m(){var e=!1;try{parseInt(Stun.utils.Cookies().get(p))&&(e=!0)}catch{}return e}if(CONFIG.nightMode&&CONFIG.nightMode.enable){var l=!1,p="night_mode";a=$(".mode"),d=!0,m()?(a.addClass("mode--checked"),a.addClass("mode--focus"),$("html").addClass("nightmode"),l=!0):l=!1,$(".mode").on("click",function(e){e.stopPropagation(),l=!l,d=!0,Stun.utils.Cookies().set(p,l?1:0),a.toggleClass("mode--checked"),a.addClass("mode--focus"),$("html").toggleClass("nightmode")})}s.on("click",function(e){e.stopPropagation(),t&&i&&n&&(h(),n=!1),i?i=!1:i=!0,r.velocity("stop").velocity({opacity:i?1:0},{duration:i?200:0,display:i?"block":"none"})});var v=!1;$(".header-nav-submenu-item").on("click",function(){v=!0}),o.on("click",function(e){if(t){var u=$(this).find(".header-nav-submenu");if(u.length){v?v=!1:e.stopPropagation();var f=o.outerHeight(),b=f+Math.floor(u.outerHeight())*u.length,g=0;$(this).outerHeight()>f?(n=!1,g=f):(n=!0,g=b),u.css({display:"block",opacity:1}),$(this).velocity("stop").velocity({height:g},{duration:300}).siblings().velocity({height:f},{duration:300})}}}),o.on("mouseenter",function(){var e=$(this).find(".header-nav-submenu");e.length&&(e.is(":visible")||(t?e.css({display:"block",opacity:1}):(e.removeClass("hide--force"),e.velocity("stop").velocity("transition.slideUpIn",{duration:200}))))}),o.on("mouseleave",function(){var e=$(this).find(".header-nav-submenu");e.length&&(t||(e.addClass("hide--force"),n=!1))})},Stun.utils.pjaxReloadScrollIcon=function(){CONFIG.header&&CONFIG.header.scrollDownIcon&&$(".header-banner-arrow").on("click",function(m){m.stopPropagation(),$("#container").velocity("scroll",{offset:$("#header").outerHeight()})})},Stun.utils.pjaxReloadHeader(),Stun.utils.pjaxReloadScrollIcon()});
